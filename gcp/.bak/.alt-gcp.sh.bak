vault secrets enable gcp
vault write gcp/config credentials=@.gcp-vault-demo-235001-7f2caf55d1b5.json \
    ttl=30 max_ttl=7200


vault write gcp/roleset/token-role-set \
    project="gcp-vault-demo-235001" \
    secret_type="access_token" \
    token_scopes="https://www.googleapis.com/auth/cloud-platform" \
    bindings=-<<EOF
resource "//storage.googleapis.com/buckets/vault-bucket-322" {
roles = ["roles/roles/storage.objectViewer"],
}
EOF

vault write gcp/roleset/key-role-set \
    project="gcp-vault-demo" \
    secret_type="service_account_key" \
    bindings=-<<EOF
resource "//storage.googleapis.com/buckets/vault-bucket-322" {
roles = ["roles/roles/storage.objectViewer"],
}
EOF
